{% extends 'main.html' %}
{% load static %}
{% block content %}
  {% comment %} <div class="container mt-5">
    <div class="row">
      <div class="col-md-6">
        <h1>Welcome to Caelium</h1>
        <p>Connect with your partner and plan your future together.</p>
        <a href="#" class="btn btn-primary">Get Started</a>
      </div>
      <div class="col-md-6">
        <!-- Add an image or illustration here -->
      </div>
    </div>
  </div> {% endcomment %}
  <!-- Intro Section -->
  <section class="container mt-5">
    <div class="row">
      <div class="col-md-6">
        <h2>Welcome, {{ request.user.first_name }}</h2>
        {% comment %} <p>Connect with your partner and plan your future together.</p> {% endcomment %}
        <p>"Every day with you is a new chapter in our story."</p>
      </div>
      <div class="col-md-6">
        <!-- Partner Status -->
        <div id="partnerStatus">
          <!-- The partner's online/offline status will be displayed here -->
        </div>
      </div>
    </div>
  </section>
  <div class="container mt-5">
    <div class="row">
      <div class="col-md-6 text-center">
        <h2>What your partner feels</h2>
        <div class="weather-widget">
          <h3>
            City: <span id="city">{{ weather.0.city }}</span>
          </h3>
          <p>
            Temperature: <span id="temperature">{{ weather.0.temp }}</span>°C
          </p>
          <p>
            Weather: <span id="weather">{{ weather.0.desc }}</span>
          </p>
        </div>
      </div>
      <div class="col-md-6 text-center">
        <h2>What you feels like</h2>
        <div class="weather-widget">
          <h3>
            City: <span id="city">{{ weather.1.city }}</span>
          </h3>
          <p>
            Temperature: <span id="temperature">{{ weather.1.temp }}</span>°C
          </p>
          <p>
            Weather: <span id="weather">{{ weather.1.desc }}</span>
          </p>
        </div>
      </div>
    </div>
  </div>
  <!-- Days Together Section -->
  <section class="py-5 my-2">
    <div class="container">
      <div class="row">
        <div class="col-md-6">
          <h2>Days Together</h2>
          <p>Counting the beautiful moments we've shared.</p>
        </div>
        <div class="col-md-6">
          <!-- Display total days -->
          <div id="totalDays" class="display-4">Calculating...</div>
          <!-- Display "x years, y months, z days" format -->
          <div id="daysCount" class="h4">Calculating...</div>
        </div>
      </div>
    </div>
  </section>
  <!-- Include this section wherever you want the "Go to Chat" button to appear -->
  <div class="container mt-4">
    <div class="row justify-content-center">
      <div class="col-md-6">
        <div class="text-center">
          <h4>Ready to Chat?</h4>
          <p>Connect with your partner and start chatting now!</p>
          <a href="#" class="btn btn-primary btn-lg">Go to Chat</a>
        </div>
      </div>
    </div>
  </div>
  <!-- Featured Content Section -->
  <section class="container mt-5">
    <div class="row">
      <div class="col-md-4 mb-4">
        <div class="card h-100">
          <img src="{% static 'images/memory.avif' %}"
               class="card-img-top"
               alt="Memory Sharing">
          <div class="card-body">
            <h5 class="card-title">Memory Sharing</h5>
            <p class="card-text">Share and relive your special moments through photos and notes.</p>
          </div>
        </div>
      </div>
      <div class="col-md-4 mb-4">
        <div class="card h-100">
          <img src="{% static 'images/calendar.avif' %}"
               class="card-img-top"
               alt="Shared Calendar">
          <div class="card-body">
            <h5 class="card-title">Shared Calendar</h5>
            <p class="card-text">Stay organized with a shared calendar for important dates and events.</p>
          </div>
        </div>
      </div>
      <div class="col-md-4 mb-4">
        <div class="card h-100">
          <img src="{% static 'images/music.avif' %}"
               alt="playlist sharing">
          <div class="card-body">
            <h5 class="card-title">Playlist Sharing</h5>
            <p class="card-text">Create and share playlists of songs that hold significance for your relationship.</p>
          </div>
        </div>
      </div>
    </div>
  </section>
  <!-- Collaborative Art Section -->
  <section id="collaborative-art" class="py-5">
    <div class="container">
      <div class="row">
        <div class="col-lg-6">
          <h2>Create Art Together</h2>
          <p>Express your creativity by drawing together on a shared canvas. Connect with your partner through art!</p>
          <a href="#" class="btn btn-primary">Start Drawing</a>
        </div>
        <div class="col-lg-6">
          <!-- You can add an image or illustration here to represent collaborative art -->
          <img src="{% static 'images/collab_art.avif' %}"
               alt="Collaborative Art"
               class="img-fluid">
        </div>
      </div>
    </div>
  </section>
{% endblock content %}
{% block scripts %}
  <!-- JavaScript to Calculate and Display Days Count -->
  <script>
      // Set the target date (the date you want to count from)
      const targetDate = new Date('2021-08-28'); // Replace with the actual start date

      // Function to calculate and update the days count
      function updateDaysCount() {
          const currentDate = new Date();
          const timeDifference = currentDate - targetDate;

          const days = Math.floor(timeDifference / (1000 * 60 * 60 * 24)); // Calculate days

          const years = Math.floor(days / 365); // Calculate years
          const remainingDays = days % 365;

          const months = Math.floor(remainingDays / 30); // Calculate months
          const remainingMonths = remainingDays % 30;

          document.getElementById('daysCount').textContent = `${years} years, ${months} months, ${remainingMonths} days`;
          document.getElementById('totalDays').textContent = days;
      }

      // Call the function to initially update the count
      updateDaysCount();

      // You can also set up a timer to update the count in real-time if needed
      // setInterval(updateDaysCount, 1000); // Update every second


      // Simulate partner's online status (you should replace this with real data)
      let partnerOnline = true;

      // Function to update partner's status
      function updatePartnerStatus() {
          const partnerStatusElement = document.getElementById('partnerStatus');

          if (partnerOnline) {
              partnerStatusElement.innerHTML = '<p>{{ partner }} is <span class="text-success">online</span></p>';
          } else {
              partnerStatusElement.innerHTML = '<p>{{ partner }} is <span class="text-danger">offline</span></p>';
          }
      }

      // Call the function to initially update the partner's status
      updatePartnerStatus();

      // You can set up a timer to periodically update the partner's status based on real data
      // For example, fetch the status from your server or use WebSocket for real-time updates
      // setInterval(updatePartnerStatus, 30000); // Update every 30 seconds (adjust as needed)
  </script>
{% endblock scripts %}
